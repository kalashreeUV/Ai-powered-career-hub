<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Learning Paths</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f2f5;
    }
    .card-header {
      border-radius: 0.5rem 0.5rem 0 0;
    }
    a {
      text-decoration: none;
    }
    .list-group-item ul {
      margin-top: 0.5rem;
      padding-left: 20px;
    }
  </style>
</head>
<body>

<div class="container mt-5">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-info text-white text-center">
      <h3 class="mb-0">üìö Learning Paths for {{ role_title }}</h3>
    </div>
    <div class="card-body p-4">

      {% if missing_skills %}
        <h5>‚ö†Ô∏è Skills You Need to Learn:</h5>
        <ul class="list-group list-group-flush">
          {% for skill in missing_skills %}
          <li class="list-group-item">
            <strong>{{ skill }}</strong>
            {% if resources and skill in resources %}
              <ul>
                {% for resource in resources[skill] %}
                <li>
                  {% if resource.startswith('http') %}
                    <a href="{{ resource }}" target="_blank">{{ resource }}</a>
                  {% else %}
                    {{ resource }}
                  {% endif %}
                </li>
                {% endfor %}
              </ul>
            {% else %}
              <ul>
                <li>
                  <a href="https://www.udemy.com/courses/search/?q={{ skill }}" target="_blank">Find Courses on Udemy</a>
                </li>
              </ul>
            {% endif %}
          </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-success">‚úÖ Great! You already have all the key skills for this role.</p>
      {% endif %}

      <!-- Back Button -->
      <div class="text-center mt-4">
        <a href="{{ url_for('job_matching') }}" class="btn btn-dark btn-lg">‚¨Ö Back to Job Matches</a>
      </div>
    </div>
  </div>
</div>

</body>
</html>
